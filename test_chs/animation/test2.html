<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        *{margin: 0; padding: 0; box-sizing: border-box;}
        html,body{width: 100%; height: auto;}
        .page_wrap{position: relative; width: 100%; height: auto; background-color: #fff; box-sizing: border-box;}
        [id*="page_"]{width: 100%;}
        [id*="page_"] .inner{width: 100%; height: 100%;}
        #page_1 .inner{height: 600px;}
        #page_2 .inner{height: 600px;}
        #page_3 .inner{height: 600px;}
        #page_4 .inner{height: 600px;}
    </style>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
        $(function(){
            layout_scroll_AC();
        });
        function layout_scroll_AC(){
            function _set(){
                var t = 0;
                var arr = ['page_1','page_2','page_3','page_4'];

                for(var i=0; i<arr.length; i++){
                    var ob = $("#"+arr[i]);
                    var t2 = (t - ob.offset().top) + $(window).height();
                    var step = Math.floor(t2 / ob.innerHeight() * 100);
                    console.log();
                    
                    if(step < 10) step = 0;
                    else step = Math.floor(step / 10);
                    if(t2 > 0 && t2 < ob.innerHeight()){
                        ob.attr("data-steps",step);
                    } else {
                        if(t2 < 10) ob.removeAttr("data-steps");
                        else ob.attr("data-steps","10");
                    }
                }
            }
            _set();
            $("body").on("scroll",function(){
                _set();
                console.log("aaa");
            });
        }
    </script>
    
</head>
<body>
    <div class="page_wrap">
        <div id="page_1">
            <div class="inner"><p>page_1</p><p>page_1</p><p>page_1</p><p>page_1</p><p>page_1</p><p>page_1</p><p>page_1</p></div>
        </div>
        <div id="page_2">
            <div class="inner"><p>page_2</p><p>page_2</p><p>page_2</p><p>page_2</p><p>page_2</p><p>page_2</p><p>page_2</p></div>
        </div>
        <div id="page_3">
            <div class="inner"><p>page_3</p><p>page_3</p><p>page_3</p><p>page_3</p><p>page_3</p><p>page_3</p><p>page_3</p></div>
        </div>
        <div id="page_4">
            <div class="inner"><p>page_4</p><p>page_4</p><p>page_4</p><p>page_4</p><p>page_4</p><p>page_4</p><p>page_4</p></div>
        </div>
    </div>
    
</body>
</html>